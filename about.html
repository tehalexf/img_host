<!DOCTYPE html>
<html lang="en">
   <head>
      <script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
      <link rel="stylesheet" href="http://cdn.materialdesignicons.com/1.6.50/css/materialdesignicons.min.css">
      <script src="dist/semantic.min.js"></script>
      <link rel="stylesheet" type="text/css" href="dist/semantic.min.css">
      <link rel="stylesheet" type="text/css" href="css/login.css">
      <link rel="stylesheet" href="dist/animationpoki/css/reset.css">
      <link rel="stylesheet" href="dist/animationpoki/css/style.css">
   </head>
   <body>

<div class="holder">
  <div class="ui middle aligned grid">
    <div class="eight column wide">
      <div>
        


           <div class="ui middle aligned centered grid">
        <div class="row">
        <div class="one wide column"> </div>
          <div class="five wide column">
            


             <h3 class="mid_text" >PokeProfile (LAYOUT UNDER CONSTRUCTION) </h3>
         <div style="margin: auto;" class="ui card">
            <div class="content">
               <div style="width: 100%" class="ui input">
                  <input id="username" type="text" placeholder="Username">
               </div>
            </div>
            <div class="content">
               <div style="width: 100%" class="ui input">
                  <input id="password" type="password" placeholder="Password">
               </div>
            </div>
            <button class="ui button" id="submit">Get Profile</button>
         </div>
         <br/>
         <div id= "errormsg"  style="display:none">
            
               <div class="ui negative message">
                  <div class="header">
                     An error has occured...
                  </div>
                  <p id="errordet">Unable to login.</p>
               </div>
         </div>



          </div>
          <div class="two wide column"> </div>
          <div class="five wide column">
                  <div class="ui card">
        <div class="content">
        <div class="header">Letter to the Devs</div>
        <div class="meta">Today</div>
        <div class="description">
          <p>We love this game you have created. We love the culture it has caused in our world. We are not looking for a means to cheat! Instead, we want to have somewhere outside of the game where we can view our own pokemon, and brag about our collection. We hope that something like this will be official one day, but for now we hope this is okay.<p>
        </div>
        </div>
      </div>
      
            <img class="ui wireframe image" src="assets/images/wireframe/image.png">
          </div>
          <div class="one wide column">
            
          </div>
        </div>
      </div>





      </div>
    </div>
  </div>
</div>









   <!-- 
     <div class="pokeball">
		<div id="ball" style="display: none" class="ball"></div>
   </div>
   
   

      <div class="login_con">
        

         <h3 class="mid_text" >PokeProfile (LAYOUT UNDER CONSTRUCTION) </h3>
         <div style="margin: auto;" class="ui card">
            <div class="content">
               <div style="width: 100%" class="ui input">
                  <input id="username" type="text" placeholder="Username">
               </div>
            </div>
            <div class="content">
               <div style="width: 100%" class="ui input">
                  <input id="password" type="password" placeholder="Password">
               </div>
            </div>
            <button class="ui button" id="submit">Get Profile</button>
         </div>
         <br/>
         <div id= "errormsg"  style="display:none">
            <div class="six wide column mid_text">
               <div class="ui negative message">
                  <div class="header">
                     An error has occured...
                  </div>
                  <p id="errordet">Unable to login.</p>
               </div>
            </div>
         </div>









		<div class="google_con">
			<div style="width: 100%" class="ui card">
			  <div class="content">
				<div class="header">Google Two-Factor Auth Instructions</div>
				<div class="description">
					<p>1. Go to <a href="https://security.google.com/settings/security/apppasswords" target="_blank">Google Security</a>
						 </p>
						<p>2. Under 'Select app' select the 'other' option</p>
						</p>3. Give it a name and click generate!</p>
						<p>4. Use this password to login to this site.</p>
						<p>5. Go back to google and revoke access if you wish.</p>
				</div>
			  </div>
			</div>
		</div>
      </div>
	</div> 
	
	<div class="main_right">
	
		<div class="letter_con">
			<div class="ui card">
			  <div class="content">
				<div class="header">Letter to the Devs</div>
				<div class="meta">Today</div>
				<div class="description">
					<p>We love this game you have created. We love the culture it has caused in our world. We are not looking for a means to cheat! Instead, we want to have somewhere outside of the game where we can view our own pokemon, and brag about our collection. We hope that something like this will be official one day, but for now we hope this is okay.<p>
				</div>
			  </div>
			</div>
		</div>
		<br>
		<div class="letter_con">
			<div class="ui card">
			  <div class="content">
				<div class="header">Welcome to PokeProfile!</div>
				<div class="meta">2 days ago</div>
				<div class="description">
					<p>Welcome to PokeProfile! Here we extract the pokemon and user data from your account, with no risk of soft bans. We do NOT store your username or password, since we don't want to be responsible if someone hacks our database. Instead, it is thrown away after we've extracted the data. The connection is encrypted as well so your logins are safe.</p>
				</div>
			  </div>
			</div>
		</div>
	</div> -->
	  
      <script type="text/javascript">
         $("#submit").click(function() {
             var username = $("#username").val();
             var password = $("#password").val();
             if (username == "" || password == "")
                 return;

             if ($("#submit").hasClass("loading") || $("#submit").hasClass("disabled"))
                 return;

             $("#submit").addClass("loading");

             var data = {
                 username: username,
                 password: password
             }

             var data = {};
             data.username = username;
             data.password = password;

             console.log(data)

             $.ajax({
                 type: 'POST',
                 data: JSON.stringify(data),
                 contentType: 'application/json',
                 url: 'http://pokemon.rhocode.com:81/api/retrieve',
                 success: function(data) {

                     var dat = JSON.parse(JSON.stringify(data));

                     console.log(dat.status)

                     if (dat.status == "success") {

                         $("#submit").removeClass("loading");
                         $("#submit").addClass("disabled");
                         $("#submit").html("Success! Generating page...");

                          setTimeout(function() {
                                  window.location.href = "profile.html#/?id=" + dat.username;

                                 

                             }, 2000);

                     } else {
                         console.log("DEBUGGY")
                         console.log(dat.reason)

                         if (dat.reason && dat.reason == "invalidLogin") {
                             $("#errordet").html("Please check your username and password.");
                             $("#errormsg").fadeIn();
                             $("#submit").removeClass("loading");
                             setTimeout(function() {
                                 $("#errormsg").fadeOut();
                             }, 4000);
                         } else if (dat.reason && dat.reason == "lockedOut") {
                             
                             $("#errordet").html("Your account is locked. You may be locked out for 15 minutes.");
                             $("#errormsg").fadeIn();
                             $("#submit").removeClass("loading");
                             setTimeout(function() {
                                 $("#errormsg").fadeOut();
                             }, 4000);
                         } else if (dat.reason && dat.reason == "google2fa") {
                             
                             $("#errordet").html("Your gmail account has two-factor authentication. Follow the instructions below.");
                             $("#errormsg").fadeIn();
                             $("#submit").removeClass("loading");
                             setTimeout(function() {
                                 $("#errormsg").fadeOut();
                             }, 4000);
                         }  else if (dat.reason && dat.reason == "noavatar") {
                             
                             $("#errordet").html("Please name your account and create a character first.");
                             $("#errormsg").fadeIn();
                             $("#submit").removeClass("loading");
                             setTimeout(function() {
                                 $("#errormsg").fadeOut();
                             }, 4000);
                         }  else {
                             
                             $("#errordet").html("Unknown error. Please try again later.");
                             $("#errormsg").fadeIn();
                             $("#submit").removeClass("loading");
                             setTimeout(function() {
                                 $("#errormsg").fadeOut();
                             }, 4000);
                         }

                     }

                 },
                 error: function(textStatus, errorThrown) {
                     console.log("ERROR!")
                     $("#submit").removeClass("loading");
                 }

             });

         });
         
         
      </script>
	
	<div style="position: absolute;bottom: 0; width: 100%; height: 67px">
    <div id="pikachu"></div>
	<div id="ash"></div>
	</div>
	
	
	  
   </body>
   
</html>
<!-- 
style="position: absolute;bottom: 0;"
   background-position: center; background-size: 80% 120%; background-repeat: no-repeat; background-position: 8px 8px; center; background-image: url('http://orig09.deviantart.net/5d93/f/2011/345/1/b/pokeball_vector_by_mangotangofox-d4ivdg0.png');
   
   
   -->
   
   <script type="text/javascript">
		// 	document.getElementById("ball").style.display = "block";
		// 	toggleBall();
		// 	window.setInterval(function(){
		// 		document.getElementById("ball").style.display = "block";
		// 		toggleBall();
		// 	}, 14000);

		// function toggleBall() {
		// 	setTimeout(function() {
		// 		document.getElementById("ball").style.display = "none";
		// 	}, 4000);
		// }
   </script>
   
   <!--
   CREDITS:
   Pokemon Background Image: Sandi315
   https://www.reddit.com/user/Sandi315
   
   
   -->